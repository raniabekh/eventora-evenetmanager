<!-- src/app/components/events/registration-form/registration-form.component.html -->
<div class="registration-form-container">

  <!-- En-tÃªte -->
  <div class="form-header">
    <h2>Inscription Ã  l'Ã©vÃ©nement</h2>
    <p class="event-title">{{ eventTitle }}</p>

    <!-- Message de succÃ¨s -->
    <div *ngIf="showSuccess" class="success-message">
      <div class="success-icon">âœ…</div>
      <p>Inscription envoyÃ©e avec succÃ¨s !</p>
      <p class="success-sub">Redirection en cours...</p>
    </div>
  </div>

  <!-- Formulaire (masquÃ© si succÃ¨s) -->
  <form *ngIf="!showSuccess" (ngSubmit)="onSubmit()" #registrationForm="ngForm" class="registration-form">

    <!-- Informations personnelles -->
    <div class="form-section">
      <h3>ðŸ“‹ Vos informations</h3>

      <!-- Nom complet -->
      <div class="form-group" [class.has-error]="hasError('fullName')">
        <label for="fullName" class="form-label">
          Nom complet *
          <span *ngIf="hasError('fullName')" class="error-text">
            {{ getError('fullName') }}
          </span>
        </label>
        <input
          type="text"
          id="fullName"
          [(ngModel)]="formData.fullName"
          name="fullName"
          required
          class="form-input"
          placeholder="Votre nom et prÃ©nom"
          [class.error]="hasError('fullName')"
          (blur)="validateForm()"
        >
      </div>

      <!-- Email -->
      <div class="form-group" [class.has-error]="hasError('email')">
        <label for="email" class="form-label">
          Email *
          <span *ngIf="hasError('email')" class="error-text">
            {{ getError('email') }}
          </span>
        </label>
        <input
          type="email"
          id="email"
          [(ngModel)]="formData.email"
          name="email"
          required
          class="form-input"
          placeholder="votre@email.com"
          [class.error]="hasError('email')"
          (blur)="validateForm()"
        >
      </div>

      <!-- TÃ©lÃ©phone -->
      <div class="form-group" [class.has-error]="hasError('phone')">
        <label for="phone" class="form-label">
          TÃ©lÃ©phone
          <span class="optional">(optionnel)</span>
          <span *ngIf="hasError('phone')" class="error-text">
            {{ getError('phone') }}
          </span>
        </label>
        <input
          type="tel"
          id="phone"
          [ngModel]="formData.phone"
          (ngModelChange)="formData.phone = $event"
          (input)="formatPhone($event)"
          name="phone"
          class="form-input"
          placeholder="06 12 34 56 78"
          [class.error]="hasError('phone')"
          (blur)="validateForm()"
        >
        <small class="hint">Format : 06 12 34 56 78 ou 0612345678</small>
      </div>
    </div>

    <!-- Conditions -->
    <div class="form-section">
      <h3>ðŸ“œ Conditions</h3>

      <div class="form-group checkbox-group" [class.has-error]="hasError('acceptTerms')">
        <label class="checkbox-label">
          <input
            type="checkbox"
            [(ngModel)]="formData.acceptTerms"
            name="acceptTerms"
            required
            class="checkbox-input"
          >
          <span class="checkbox-custom"></span>
          <span class="checkbox-text">
            J'accepte les
            <a href="#" class="terms-link" target="_blank">conditions gÃ©nÃ©rales d'utilisation</a>
            et la
            <a href="#" class="terms-link" target="_blank">politique de confidentialitÃ©</a>
            *
          </span>
        </label>
        <span *ngIf="hasError('acceptTerms')" class="error-text">
          {{ getError('acceptTerms') }}
        </span>
      </div>

      <div class="form-note">
        <p>ðŸ”’ Vos informations seront uniquement utilisÃ©es pour la gestion de votre inscription.</p>
      </div>
    </div>

    <!-- Actions -->
    <div class="form-actions">
      <button
        type="button"
        (click)="onCancel()"
        class="btn btn-secondary"
        [disabled]="isSubmitting"
      >
        Annuler
      </button>

      <button
        type="submit"
        class="btn btn-primary"
        [disabled]="isSubmitting || !formData.acceptTerms"
      >
        <span *ngIf="!isSubmitting">
          âœ… Confirmer l'inscription
        </span>
        <span *ngIf="isSubmitting">
          <span class="spinner-small"></span> Traitement...
        </span>
      </button>
    </div>
  </form>

  <!-- Pied de page -->
  <div *ngIf="!showSuccess" class="form-footer">
    <p class="footer-note">
      <small>* Champs obligatoires</small>
    </p>
  </div>
</div>
