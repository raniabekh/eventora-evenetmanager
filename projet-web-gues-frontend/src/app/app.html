<!-- src/app/app.html -->
<div class="app-container">
  <nav class="main-nav">
    <div class="nav-container">
      <a routerLink="/" class="logo">Eventora</a>

      <div class="nav-links">
        <!-- Toujours visible -->
        <a routerLink="/events" routerLinkActive="active">Ã‰vÃ©nements</a>

        <!-- Seulement si connectÃ© ET ORGANISATEUR -->
        <a routerLink="/organizer/dashboard"
           routerLinkActive="active"
           *ngIf="isLoggedIn() && user?.role === 'ORGANIZER'"
           class="nav-link-organizer">
          ğŸ¢ Dashboard
        </a>

        <!-- Seulement si connectÃ© -->
        <a routerLink="/my-registrations"
           routerLinkActive="active"
           *ngIf="isLoggedIn()">
          Mes inscriptions
        </a>

        <!-- NOTIFICATIONS -->
        <a routerLink="/notifications"
           routerLinkActive="active"
           *ngIf="isLoggedIn()">
          ğŸ”” Notifications
        </a>

        <!-- Seulement si NON connectÃ© -->
        <a routerLink="/login"
           routerLinkActive="active"
           *ngIf="!isLoggedIn()">
          Connexion
        </a>

        <a routerLink="/register"
           routerLinkActive="active"
           *ngIf="!isLoggedIn()">
          Inscription
        </a>

        <!-- Seulement si connectÃ© -->
        <button *ngIf="isLoggedIn()"
                (click)="logout()"
                class="btn-logout">
          ğŸšª DÃ©connexion
        </button>

        <!-- BOUTONS DE DÃ‰VELOPPEMENT (Ã  cacher en production) -->
        <div *ngIf="isLoggedIn()" class="dev-buttons">
          <button (click)="switchRole()"
                  class="dev-switch-btn"
                  title="Changer de rÃ´le (dev)">
            ğŸ”„ {{ user?.role || 'No role' }}
          </button>

          <button *ngIf="!isLoggedIn()"
                  (click)="mockLogin('ORGANIZER')"
                  class="dev-mock-btn"
                  title="Mock login organisateur">
            ğŸ¢ Mock Org
          </button>

          <button *ngIf="!isLoggedIn()"
                  (click)="mockLogin('PARTICIPANT')"
                  class="dev-mock-btn"
                  title="Mock login participant">
            ğŸ‘¤ Mock Part
          </button>
        </div>
      </div>
    </div>
  </nav>

  <main class="main-content">
    <router-outlet></router-outlet>
  </main>

  <footer class="main-footer">
    <p>Â© 2025 Eventora - Gestion d'Ã©vÃ©nements by Rania BEKHOUCHE</p>
  </footer>
</div>
