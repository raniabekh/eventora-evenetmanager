<!-- src/app/app.html -->
<div class="app-container">
  <nav class="main-nav">
    <div class="nav-container">
      <!-- Logo avec lien vers la page d'accueil selon le r√¥le -->
      <a [routerLink]="getHomeLink()" class="logo">
         Eventora
      </a>

      <div class="nav-links">
        <!-- ============ PARTICIPANT ============ -->
        <div *ngIf="isLoggedIn() && user?.role === 'PARTICIPANT'" class="role-links">
          <!-- √âv√©nements (SEULEMENT pour participants) -->
          <a routerLink="/events" routerLinkActive="active" class="nav-item">

            √âv√©nements
          </a>

          <!-- Mes inscriptions -->
          <a routerLink="/my-registrations" routerLinkActive="active" class="nav-item">

            Mes inscriptions
            <span *ngIf="hasPendingRegistrations()" class="badge">{{pendingRegistrationsCount}}</span>
          </a>

          <!-- Notifications participant -->
          <a routerLink="/notifications" routerLinkActive="active" class="nav-item notification-link">

            Notifications
            <span *ngIf="unreadCount > 0" class="notification-badge">{{unreadCount}}</span>
          </a>
        </div>

        <!-- ============ ORGANIZER ============ -->
        <div *ngIf="isLoggedIn() && user?.role === 'ORGANIZER'" class="role-links">
          <!-- Dashboard organisateur -->
          <a routerLink="/organizer/dashboard" routerLinkActive="active" class="nav-item organizer-link">

            Dashboard
          </a>

          <!-- G√©rer √©v√©nements -->
          <a routerLink="/organizer/manage-events" routerLinkActive="active" class="nav-item">

            Mes √©v√©nements
          </a>

          <!-- Cr√©er √©v√©nement -->
          <a routerLink="/create-event" routerLinkActive="active" class="nav-item">

            Cr√©er
          </a>

          <!-- Notifications organisateur -->
          <a routerLink="/organizer/notifications" routerLinkActive="active" class="nav-item notification-link">

            Notifications
            <span *ngIf="unreadOrganizerCount > 0" class="notification-badge">{{unreadOrganizerCount}}</span>
          </a>
        </div>

        <!-- ============ SECTION AUTH ============ -->
        <div class="auth-section">
          <!-- Non connect√© -->
          <ng-container *ngIf="!isLoggedIn()">
            <a routerLink="/login" routerLinkActive="active" class="auth-link">
              <span class="auth-icon">üîë</span>
              Connexion
            </a>
            <a routerLink="/register" routerLinkActive="active" class="auth-link register-link">

              Inscription
            </a>
          </ng-container>

          <!-- Connect√© -->
          <ng-container *ngIf="isLoggedIn()">
            <!-- Informations utilisateur -->
            <div class="user-info">
              <div class="user-avatar" [class.organizer]="user?.role === 'ORGANIZER'">
                {{ user?.role === 'ORGANIZER' ? 'üè¢' : 'üë§' }}
              </div>
              <div class="user-details">
                <span class="username">{{ user?.username }}</span>
                <span class="user-role" [class.role-organizer]="user?.role === 'ORGANIZER'">
                  {{ user?.role === 'ORGANIZER' ? 'Organisateur' : 'Participant' }}
                </span>
              </div>
            </div>

            <!-- D√©connexion -->
            <button (click)="logout()" class="btn-logout" title="D√©connexion">
              <span class="logout-icon">üö™</span>
              <span class="logout-text">D√©connexion</span>
            </button>
          </ng-container>
        </div>
      </div>
    </div>
  </nav>

  <main class="main-content">
    <router-outlet></router-outlet>
  </main>

  <footer class="main-footer">
    <p>¬© 2025 Eventora - Gestion d'√©v√©nements by Rania BEKHOUCHE</p>
    <p class="footer-version">v1.0.0 | Microservices Architecture</p>
  </footer>
</div>
